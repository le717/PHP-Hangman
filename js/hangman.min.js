!function(){"use strict";var e=document.querySelector("#area-message"),a=document.querySelector("form #guess"),n=document.querySelector("form #submit"),i={displayHint:function(e){document.querySelector("#area-hint p").innerHTML=e},displayHeader:function(e){document.querySelector("#area-word h2").innerHTML=e},hideMessage:function(){e.classList.remove("visible")},displayMessage:function(a){document.querySelector("#area-message p").innerHTML=a,e.classList.add("visible")},displayWord:function(e){document.querySelector("#area-word p").innerHTML=e,a.value="",a.focus()},displayGallows:function(e,a){function n(e){var a=document.querySelector(".hangman img[data-img-id='"+e+"']");a.style.display="block"}a||(a=!1);var i=parseInt(e,10);if(i>0&&7>i)if(a)for(var s=1;i>=s;s+=1)n(s);else n(e)},endGame:function(){a.disabled=!0,n.value="New Game",n.focus(),e.removeEventListener("transitionend",i.hideMessage),n.addEventListener("click",function(e){e.preventDefault(),window.location.replace(window.location.toString())})}};window.onload=function(){var e={method:"POST",url:"hangman.php",data:"pageLoad=true",success:function(e){e=JSON.parse(e),i.displayHeader(e.header),i.displayWord(e.word),i.displayHint(e.hint),i.displayGallows(e.gallows,!0)}};microAjax(e)},n.onclick=function(e){var n=a.value;if(!/^[a-z]$/i.test(n))return i.displayMessage("Invalid input"),!1;var s={method:"POST",url:"hangman.php",data:"guess="+n,success:function(e){return e=JSON.parse(e),i.displayWord(e.word),i.displayMessage(e.msg),/incorrect|over/i.test(e.msg)&&i.displayGallows(e.gallows,!1),/win|over/i.test(e.msg)&&i.endGame(),!0}};microAjax(s),e.preventDefault()},e.addEventListener("transitionend",i.hideMessage)}();